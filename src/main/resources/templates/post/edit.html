<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8" />
    <title>댓글 수정</title>

    <!-- [중요] 기존 공통 CSS 파일을 그대로 사용합니다 -->
    <link rel="stylesheet" th:href="@{/css/styles.css}" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>
<body>
<!-- 헤더 -->
<div th:replace="~{fragments/header :: header}"></div>

<main class="container">
    <div class="card" style="max-width: 700px; margin: 2rem auto; padding: 24px;">
        <h2 style="margin: 0 0 16px 0; font-size: 22px;">댓글 수정</h2>

        <form
                class="form"
                th:action="@{|/comments/${comment.id}/edit|}"
                th:object="${comment}"
                method="post"
        >
            <!--
              [중요] 수정 완료 후
              원래 게시글로 돌아가기 위해 'postId'가 필요합니다.
            -->
            <input type="hidden" th:field="*{postId}" />

            <div>
                <label for="c-content">내용</label>
                <textarea
                        id="c-content"
                        th:field="*{content}"
                        class="textarea"
                        rows="6"
                        required
                ></textarea>
                <!-- 유효성 검사 (선택) -->
                <div
                        class="error-message"
                        th:if="${#fields.hasErrors('content')}"
                        th:errors="*{content}"
                ></div>
            </div>

            <div class="actions" style="margin-top: 16px;">
                <a
                        th:href="@{|/posts/${comment.postId}|}"
                        class="btn"
                        style="border: 1px solid var(--border); background: #fff;"
                >취소</a>

                <button type="submit" class="btn btn-primary">수정 완료</button>
            </div>
        </form>
    </div>
</main>

<!-- 푸터 -->
<div th:replace="~{fragments/footer :: footer}"></div>
</body>
</html>
